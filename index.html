<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>30 NG√ÄY BYE BYE M·ª† B·ª§NG</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  :root{
    --p1:#ff8fab; --p2:#ffb3c1; --p3:#ffd6a5;
    --bg:#fff7fb; --bg-grad:#fff0f6;
    --text:#2b2b2b; --muted:#6b7280;
    --card:#ffffff; --border:#f4dbe3;
    --col-huong:#ff8fab; --col-thuy:#a5b4fc; --col-lien:#9adbb3;
  }
  body{margin:0;font-family:Inter,system-ui;background:linear-gradient(180deg,var(--bg-grad) 0%, #fff 40%);}
  .wrap{max-width:1200px;margin:28px auto;padding:0 18px}
  .hero{border:1px solid var(--border);border-radius:18px;padding:22px;
        background:linear-gradient(135deg,#fff0f6 0%,#fff 45%,#fff5f0 100%);
        box-shadow:0 12px 28px rgba(255,168,186,.20);}
  .hero h1{margin:0;font-size:30px}
  .toast{position:fixed;right:16px;bottom:16px;background:#fff;
        border:1px solid var(--border);padding:12px 14px;border-radius:12px;
        box-shadow:0 12px 30px rgba(0,0,0,.12);display:none}
  .toast.show{display:block;animation:fade .18s ease-out}
  @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
  canvas#confetti{position:fixed;inset:0;pointer-events:none}
  /* ... gi·ªØ nguy√™n style c≈© (leaderboard, table, button, vv.) ... */
</style>
</head>
<body>
<canvas id="confetti"></canvas>

<div class="wrap">
  <div class="hero">
    <h1>30 NG√ÄY BYE BYE M·ª† B·ª§NG</h1>
    <div class="subtitle">Tick ƒë·ªÉ check-in, b·∫°n s·∫Ω th·∫•y hoa tung bay üéâ k√®m l·ªùi ƒë·ªông vi√™n: <b>C·ªë l√™n!!</b></div>
  </div>

  <!-- c√°c ph·∫ßn c√≤n l·∫°i gi·ªØ nguy√™n: ch·ªçn ng√†y b·∫Øt ƒë·∫ßu, leaderboard, b·∫£ng 30 ng√†y ... -->
  <div id="leaderboard"></div>
  <table id="daysTable"></table>
</div>

<div id="toast" class="toast"></div>

<script>
/* ================== STATE DEMO ================== */
const KEY="30days-v9";const DAYS=30;
const members=[{id:"Huong",name:"H∆∞∆°ng"},{id:"Thuy",name:"Th√πy"},{id:"Lien",name:"Li√™n"}];
let state={days:Array.from({length:DAYS},()=>({Huong:false,Thuy:false,Lien:false}))};
function save(){localStorage.setItem(KEY,JSON.stringify(state));}
function load(){const raw=localStorage.getItem(KEY);if(raw)state=JSON.parse(raw);}
load();

/* ================== CONFETTI ================== */
const confettiCanvas=document.getElementById('confetti');
const cctx=confettiCanvas.getContext('2d');
function sizeCanvas(){confettiCanvas.width=innerWidth;confettiCanvas.height=innerHeight;}
sizeCanvas();addEventListener('resize',sizeCanvas);
let particles=[];
function burst(x,y,emoji="üå∏"){
  for(let i=0;i<25;i++){
    particles.push({x,y,vx:(Math.random()-0.5)*6,vy:(Math.random()*-6)-2,rot:Math.random()*6,life:60,emoji,spin:(Math.random()-0.5)*0.3,size:18+Math.random()*10});
  }
}
(function tick(){cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  particles.forEach(p=>{p.life--;p.x+=p.vx;p.vy+=0.18;p.y+=p.vy;p.rot+=p.spin;
    cctx.save();cctx.translate(p.x,p.y);cctx.rotate(p.rot);cctx.font=p.size+"px serif";cctx.fillText(p.emoji,0,0);cctx.restore();});
  particles=particles.filter(p=>p.life>0);requestAnimationFrame(tick);
})();

/* ================== TOAST ================== */
const toastEl=document.getElementById('toast');
function toast(msg,ms=2000){toastEl.textContent=msg;toastEl.classList.add('show');
 setTimeout(()=>toastEl.classList.remove('show'),ms);}

/* ================== CHECKIN ================== */
function doToggle(day,id){
  state.days[day][id]=!state.days[day][id];
  save();
  burst(innerWidth/2, innerHeight/3,"üå∏");
  toast("C·ªë l√™n!!");
  render();
}

/* ================== RENDER SIMPLE DEMO ================== */
const tableEl=document.getElementById('daysTable');
function render(){
  const tbody=document.createElement('tbody');
  for(let d=0;d<DAYS;d++){
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>Ng√†y ${d+1}</td>`;
    members.forEach(m=>{
      const td=document.createElement('td');
      td.textContent=state.days[d][m.id]?"‚úÖ":"‚Äî";
      td.className="daycell";td.onclick=()=>doToggle(d,m.id);
      tr.appendChild(td);
    });
    tbody.appendChild(tr);
  }
  tableEl.innerHTML="";tableEl.appendChild(tbody);
}
render();
</script>
</body>
</html>
